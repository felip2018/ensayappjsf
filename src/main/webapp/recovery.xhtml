<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view locale="#{app.locale}" />
    <h:head>
        <title>Recovery</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="resources/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="resources/css/cssLayout.css"></link>
        <link rel="stylesheet" href="resources/css/fontawesome/css/all.css"></link>
    </h:head>
    <h:body class="login_body">
        <div class="container-fluid">
            <div class="row justify-content-md-center">
                <div id="login_container" class="col-3">
                    <div class="header_back">
                        <h:form>
                            <p:link outcome="index">
                                <h:outputLabel class="fas fa-chevron-left"/> #{msgs['login.btnVolver']}
                            </p:link>
                        </h:form>
                    </div>
                    <div id="header_login">
                        <img src="resources/img/Icono.jpg" alt="Logotipo" id="logo" style="width:180px;height: 180px;"></img><br/>
                    </div>
                    <h:form>
                        <div class="form-group">
                            <p:inputText type="hidden" id="id" class="form-control" required="true" value="#{recoveryForm.usuario.id = param['id']}"/>
                        </div>
                        <div class="form-group">
                            <p:inputText type="hidden" id="code" class="form-control" required="true" value="#{recoveryForm.usuario.codigoValidacion = param['code']}"/>
                        </div>
                    </h:form>
                    <h:form>
                        <div class="form-group">
                            <h:outputLabel for="clave" value="#{msgs['recovery.nuevaClave']}"/>
                            <p:password id="clave" class="form-control" required="true" value="#{recoveryForm.usuario.clave}"/>
                            <h:message class="alert-error" for="clave" />
                        </div>
                        <div class="form-group">
                            <p:inputTextarea id="response" class="form-control" rows="2" readonly="true"
                                             value="#{recoveryForm.respuesta}"/>
                        </div>
                        <div class="form-group">
                            <p:commandButton class="btn btn-primary btn-block btn-login" 
                                             value="#{msgs['recovery.btnAceptar']}" 
                                             ajax="true"
                                             update="response"
                                             action="#{recoveryForm.actualizarClave()}"/>
                        </div>
                    </h:form>
                </div>
            </div>
        </div>
    </h:body>
</html>
